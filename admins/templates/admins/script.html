<script>

    $(".admin-delete-course-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var course_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {course_id: course_id, csrfmiddlewaretoken: csrf};

                $.ajax({

                    url: '{% url 'adminDeleteCourse' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();


                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'error',
                                title: 'Deleted Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Deleted Successfully'
                            });
                        }
                    }

                });
            }

        });
    });
    $(".admin-delete-user-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var user_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {user_id: user_id, csrfmiddlewaretoken: csrf};

                $.ajax({

                    url: '{% url 'adminDeleteUser' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'error',
                                title: 'Deleted Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'User Deleted Successfully'
                            });
                        }
                    }

                });
            }

        });
    });

    $(".admin-delete-instructor-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var user_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {user_id: user_id, csrfmiddlewaretoken: csrf};

                $.ajax({

                    url: '{% url 'adminDeleteUser' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'error',
                                title: 'Deleted Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Instructor Deleted Successfully'
                            });
                        }
                    }

                });
            }

        });
    });
    $(".admin-delete-student-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var user_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {user_id: user_id, csrfmiddlewaretoken: csrf};

                $.ajax({

                    url: '{% url 'adminDeleteUser' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'error',
                                title: 'Deleted Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Student Deleted Successfully'
                            });
                        }
                    }

                });
            }

        });
    });


    $(".admin-approve-course-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure?',
            text: "This course will be visible with everyone!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, Approve it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var course_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {course_id: course_id, csrfmiddlewaretoken: csrf};

                $.ajax({

                    url: '{% url 'adminApproveCourse' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'success',
                                title: 'Approved Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Course Approved Successfully'
                            });
                        }
                    }

                });
            }

        });
    });

    $(".admin-approve-instructor-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure?',
            text: "This Instructor will be able to create course!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, Approve it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var instructor_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {instructor_id: instructor_id, csrfmiddlewaretoken: csrf};

                $.ajax({
                    url: '{% url 'adminApproveInstructor' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'success',
                                title: 'Approved Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Instructor Approved Successfully'
                            });
                        }
                    }
                });
            }
        });
    });

    $(".admin-disapprove-instructor-btn").click(function () {

        var pdiv = this;

        Swal.fire({
            title: 'Are you sure to Reject?',
            text: "This application will not be available until requested by user !",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, DisApprove it!'

        }).then((result) => {

            if (result.isConfirmed) {
                var instructor_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {instructor_id: instructor_id, csrfmiddlewaretoken: csrf};

                $.ajax({
                    url: '{% url 'adminDisApproveInstructor' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            pdiv.parentNode.parentNode.remove();

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'success',
                                title: 'DisApproved Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Instructor DisApproved Successfully'
                            });
                        }
                    }
                });
            }
        });
    });

    $(".admin-disapprove-course-btn").click(function () {

        var pdiv = this;
        $(this).closest('.suspend').find('.suspend').remove();

        Swal.fire({
            title: 'Are you sure?',
            text: "This course will not be visible with anyone!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, Suspend it!'
        }).then((result) => {

            if (result.isConfirmed) {
                var course_id = $(this).attr("data-id");
                let csrf = $("input[name=csrfmiddlewaretoken]").val();

                var send_data = {course_id: course_id, csrfmiddlewaretoken: csrf};

                $.ajax({

                    url: '{% url 'adminSuspendCourse' %}',
                    method: "POST",
                    data: send_data,
                    dataType: "json",
                    success: function (data) {
                        if (data.status) {

                            var toastMixinn = Swal.mixin({
                                toast: true,
                                icon: 'success',
                                title: 'Suspended Successfully',
                                animation: false,
                                position: 'top',
                                showConfirmButton: false,
                                timer: 2000,
                                timerProgressBar: true,
                                didOpen: (toast) => {
                                    toast.addEventListener('mouseenter', Swal.stopTimer)
                                    toast.addEventListener('mouseleave', Swal.resumeTimer)
                                }
                            });
                            toastMixinn.fire({
                                animation: true,
                                title: 'Course Suspended Successfully'
                            });
                        }
                    }

                });
            }

        });
    });
</script>